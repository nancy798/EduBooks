<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<title>Python Chatbot</title>
<style>
body {
  font-family: Arial;
  background: #eef2f7;
}
#chat {
  max-width: 600px;
  margin: 20px auto;
  background: white;
  padding: 10px;
  border-radius: 10px;
  height: 400px;
  overflow-y: auto;
}
.msg {
  padding: 8px 12px;
  margin: 6px;
  border-radius: 15px;
  max-width: 80%;
}
.user {
  background: #cce5ff;
  margin-left: auto;
}
.bot {
  background: #d4edda;
}
#input {
  display: flex;
  max-width: 600px;
  margin: auto;
}
input {
  flex: 1;
  padding: 10px;
}
button {
  padding: 10px;
}
</style>
</head>
<body>

<h2 align="center">ðŸ’¬ ÐŸÐ¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð¸Ð¹ Python Chatbot</h2>
<div id="chat"></div>

<div id="input">
  <input id="text" placeholder="ÐÐ°Ð¿Ð¸ÑˆÑ–Ñ‚ÑŒ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ..." />
  <button onclick="send()">âž¤</button>
</div>

<script>
const backend = "https://vladyslavv2.pythonanywhere.com/chat";
const chat = document.getElementById("chat");
const input = document.getElementById("text");

function add(sender, text) {
  const div = document.createElement("div");
  div.className = "msg " + sender;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

async function send() {
  const msg = input.value.trim();
  if (!msg) return;
  add("user", msg);
  input.value = "";
  add("bot", "â³ Ð‘Ð¾Ñ‚ Ð´ÑƒÐ¼Ð°Ñ”...");

  const res = await fetch(backend, {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({message: msg})
  });
  const data = await res.json();
  chat.lastChild.textContent = data.reply;
}

input.addEventListener("keydown", e => {
  if (e.key === "Enter") send();
});
</script>

</body>
</html>
